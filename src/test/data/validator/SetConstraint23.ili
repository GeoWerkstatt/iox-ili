INTERLIS 2.3;
MODEL SetConstraint23
  AT "mailto:ce@eisenhutinformatik.ch" VERSION "2016-11-09" =
	
	TOPIC Topic=
	
		DOMAIN
			Lkoord = COORD 480000.000 .. 850000.000 [INTERLIS.m],
						    70000.000 .. 310000.000 [INTERLIS.m],
							ROTATION 2 -> 1;

		CLASS ClassA =
			Art: (a, b, c);
			SET CONSTRAINT WHERE Art == #b :
				INTERLIS.objectCount(ALL) == 1;
		END ClassA;
		
		CLASS ClassB =
			Art: (a, b, c);
			SET CONSTRAINT WHERE Art == #a :
				INTERLIS.objectCount(ALL) == 5;
		END ClassB;
		
		CLASS ClassBp EXTENDS ClassB =
		END ClassBp;
		
		STRUCTURE StructC =
		END StructC;
		
		CLASS ClassC =
			Numbers: BAG {1..*} OF StructC;
			SET CONSTRAINT INTERLIS.objectCount(Numbers) == 2;
		END ClassC;
		
		STRUCTURE StructD =
			Surface: SURFACE WITH (STRAIGHTS,ARCS) VERTEX Lkoord WITHOUT OVERLAPS > 0.001;
		END StructD;
		
		CLASS ClassD =
			Numbers: BAG {1..*} OF StructD;
			Art: (a, b, c);
			SET CONSTRAINT WHERE Art == #a :
				INTERLIS.areAreas(ALL, >> Numbers, >> StructD->Surface);
		END ClassD;
		
	END Topic;
	
END SetConstraint23.